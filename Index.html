<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Empleados</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h2>🚀 Registro de Empleados 💼</h2>
        <form id="formulario" class="formulario">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" required placeholder="Ingrese el nombre">
            
            <label for="puesto">Puesto:</label>
            <input type="text" id="puesto" required placeholder="Ingrese el puesto">
            
            <label for="salario">Salario ($):</label>
            <input type="number" id="salario" required placeholder="Ingrese el salario" step="0.01">
            
            <label for="experiencia">Años de Experiencia:</label>
            <input type="number" id="experiencia" required placeholder="Ingrese la experiencia" min="0">
            
            <button type="submit">💾 Guardar</button>
        </form>
        
        <div id="mensaje"></div>

        <h2>📋 Lista de Empleados</h2>
        <ul id="lista"></ul>
    </div>
    
    <script>
        class Empleado {
            constructor(nombre, puesto, salario, añosExperiencia) {
                this.nombre = nombre;
                this.puesto = puesto;
                this.salario = salario;
                this.añosExperiencia = añosExperiencia;
            }

            calcularBono() {
                return this.salario * 0.10;
            }
        }

        document.getElementById('formulario').addEventListener('submit', function(event) {
            event.preventDefault();
            
            let nombre = document.getElementById('nombre').value;
            let puesto = document.getElementById('puesto').value;
            let salario = parseFloat(document.getElementById('salario').value);
            let experiencia = parseInt(document.getElementById('experiencia').value);

            if (!nombre || !puesto || isNaN(salario) || isNaN(experiencia)) {
                alert("Por favor, complete todos los campos correctamente.");
                return;
            }

            let empleado = new Empleado(nombre, puesto, salario, experiencia);
            let empleados = JSON.parse(localStorage.getItem('empleados')) || [];
            empleados.push(empleado);
            localStorage.setItem('empleados', JSON.stringify(empleados));

            mostrarLista();
            mostrarMensaje("Empleado registrado exitosamente", "success");
            this.reset();
        });

        function mostrarLista() {
            let lista = document.getElementById('lista');
            lista.innerHTML = '';
            let empleados = JSON.parse(localStorage.getItem('empleados')) || [];
            
            empleados.forEach((emp, index) => {
                let empleado = new Empleado(emp.nombre, emp.puesto, emp.salario, emp.añosExperiencia);
                let item = document.createElement('li');
                item.innerHTML = `<strong>${empleado.nombre}</strong> - ${empleado.puesto} - 💰 Salario: <strong>$${empleado.salario.toFixed(2)}</strong> - 🎉 Bono: <strong>$${empleado.calcularBono().toFixed(2)}</strong>`;
                lista.appendChild(item);
            });
        }

        function mostrarMensaje(texto, tipo) {
            let mensaje = document.getElementById('mensaje');
            mensaje.textContent = texto;
            mensaje.className = tipo === "success" ? "mensaje-exito" : "mensaje-error";
            setTimeout(() => {
                mensaje.textContent = '';
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', mostrarLista);
    </script>
</body>
</html>
